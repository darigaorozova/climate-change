<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Climate KG - –î–∞—à–±–æ—Ä–¥</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <h1>Climate Analytics</h1>
            <ul class="nav-links">
                <li><a href="/">–°–≤–æ–¥–∫–∞ –∏ –ü—Ä–æ–≥–Ω–æ–∑</a></li>
                <li><a href="/dashboard" class="active">–î–µ—Ç–∞–ª—å–Ω—ã–π –î–∞—à–±–æ—Ä–¥</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <header class="page-header">
            <h2>üîé –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Drill-Down)</h2>
            <p>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –∞–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.</p>
        </header>

        <!-- –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
        <section class="filters-section">
            <h3>üéõÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∞–ª–∏–∑–∞</h3>
            <div class="filter-controls">
                <div class="filter-group">
                    <label>–ü–µ—Ä–∏–æ–¥ (–≥–æ–¥—ã):</label>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="number" id="start-year" value="2000" min="1940" max="2025" style="width: 80px;">
                        <span>‚Äî</span>
                        <input type="number" id="end-year" value="2024" min="1940" max="2025" style="width: 80px;">
                    </div>
                </div>
                
                <div class="filter-group">
                    <label>–£—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ (Aggregation):</label>
                    <select id="group-by" style="padding: 8px; border-radius: 5px; border: 1px solid #ddd;">
                        <option value="year">üìÖ –ü–æ –≥–æ–¥–∞–º (Roll-up / –¢—Ä–µ–Ω–¥)</option>
                        <option value="month">üìÜ –ü–æ –º–µ—Å—è—Ü–∞–º (Drill-down / –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å)</option>
                    </select>
                </div>

                <button class="btn-primary" onclick="updateDashboard()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
            </div>
        </section>

        <!-- –ì–†–ê–§–ò–ö–ò -->
        <section class="dashboard-section">
            <!-- –ì—Ä–∞—Ñ–∏–∫ 1: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ -->
            <div class="chart-container">
                <h4>üå°Ô∏è –î–∏–Ω–∞–º–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã</h4>
                <!-- –ö–ª–∞—Å—Å full-height-chart –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ—Ç—É 500px -->
                <div id="chart-temp" class="full-height-chart"></div>
            </div>
            
            <!-- –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ -->
            <div style="height: 30px;"></div>

            <!-- –ì—Ä–∞—Ñ–∏–∫ 2: –û—Å–∞–¥–∫–∏ -->
            <div class="chart-container">
                <h4>üíß –î–∏–Ω–∞–º–∏–∫–∞ –æ—Å–∞–¥–∫–æ–≤ (–ê–≥—Ä–µ–≥–∞—Ü–∏—è —Å—É–º–º—ã)</h4>
                <!-- –ö–ª–∞—Å—Å full-height-chart –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ—Ç—É 500px -->
                <div id="chart-precip" class="full-height-chart"></div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Climate Analytics Project. –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>